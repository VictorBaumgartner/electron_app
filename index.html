<!DOCTYPE html>
<html>
<head>
  <title>Web Crawler UI</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background-color: #f4f4f4; }
    .container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    h1, h2 { color: #333; }
    label { display: block; margin-bottom: 5px; font-weight: bold; }
    input[type="text"], input[type="number"], textarea { width: calc(100% - 22px); padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; }
    button { background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
    button:hover { background-color: #0056b3; }
    #results, #status { background-color: #e9ecef; padding: 15px; border-radius: 4px; min-height: 100px; overflow-y: auto; margin-top: 10px; }
    .section { margin-bottom: 30px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 8px; background-color: #fcfcfc; }
    .error { color: red; }
    .success { color: green; }
    .loading { color: orange; }
  </style>
</head>
<body>
  <div class="container">
    <h1>FastAPI Web Crawler</h1>

    <div class="section">
      <h2>Crawl a URL</h2>
      <label for="urlInput">URL to Crawl:</label>
      <input type="text" id="urlInput" value="https://docs.python.org/3/library/asyncio-queue.html" placeholder="e.g., https://example.com">

      <label for="outputDirInput">Output Directory (relative path):</label>
      <input type="text" id="outputDirInput" value="./crawled_data" placeholder="e.g., ./my_crawled_data">
      
      <label for="maxConcurrencyInput">Max Concurrency:</label>
      <input type="number" id="maxConcurrencyInput" value="8" min="1">

      <label for="maxDepthInput">Max Depth:</label>
      <input type="number" id="maxDepthInput" value="2" min="0">

      <button id="crawlButton">Start Crawl</button>
      <div id="crawlStatus" class="status-message"></div>
    </div>

    <div class="section">
      <h2>Server Status</h2>
      <table id="machineStatusTable">
        <thead>
          <tr>
            <th>Machine Name</th>
            <th>Status</th>
            <th>CPU Usage</th>
            <th>Memory Usage</th>
            <th>Total Storage (GB)</th>
            <th>Free Storage (GB)</th>
          </tr>
        </thead>
        <tbody>
          <!-- Machine status will be loaded here by renderer.js -->
        </tbody>
      </table>
      <button id="refreshStatusButton">Refresh All Status</button>
      <div id="metricsOutput" class="status-message"></div>
    </div>

    <div class="section">
      <h2>Results</h2>
      <pre id="results"></pre>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>